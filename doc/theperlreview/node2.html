<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2002-2-1 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>A Fast Introduction to Parrot</TITLE>
<META NAME="description" CONTENT="A Fast Introduction to Parrot">
<META NAME="keywords" CONTENT="theperlreview">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css" charset="utf-8">

<LINK REL="STYLESHEET" HREF="theperlreview.css">

<LINK REL="next" HREF="node3.html">
<LINK REL="previous" HREF="node1.html">
<LINK REL="up" HREF="theperlreview.html">
<LINK REL="next" HREF="node3.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A NAME="tex2html107"
  HREF="node3.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="/usr/share/latex2html/icons/next.png"></A> 
<A NAME="tex2html105"
  HREF="theperlreview.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/usr/share/latex2html/icons/up.png"></A> 
<A NAME="tex2html99"
  HREF="node1.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/usr/share/latex2html/icons/prev.png"></A>   
  <A NAME="tex2html1"
  HREF="http://nereida.deioc.ull.es/~pl/eyapsimple/source.tgz"><IMG
  WIDTH="23" ALIGN="BOTTOM" BORDER="0"
 SRC="gzip.png"
 ALT="SRC"></A>

  <A NAME="tex2html2"
  HREF="http://nereida.deioc.ull.es/~pl/eyapsimple/eyapsimple.dvi"><IMG
  WIDTH="23" ALIGN="BOTTOM" BORDER="0"
 SRC="xdviicon.gif"
 ALT="DVI"></A>
<A NAME="tex2html3"
  HREF="eyapsimple.ps"><IMG
  WIDTH="24" ALIGN="BOTTOM" BORDER="0"
 SRC="gv.jpeg"
 ALT="eyapsimple.ps"></A><A NAME="tex2html4"
  HREF="eyapsimple.pdf"><IMG
  WIDTH="24" ALIGN="BOTTOM" BORDER="0"
 SRC="pdf_logo.jpg"
 ALT="eyapsimple.pdf"></A><A NAME="tex2html5"
  HREF="http://search.cpan.org/dist/Parse-Eyapp/"><IMG
  WIDTH="60" ALIGN="BOTTOM" BORDER="0"
 SRC="lupa.gif"
 ALT="modulos"></A><A NAME="tex2html6"
  HREF="http://code.google.com/p/parse-eyapp/source/browse/#svn/trunk/examples/ParsingStringsAndTrees"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="google-code.png"
 ALT="google-code"></A><A NAME="tex2html7"
  HREF="../perlexamples/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="dragon_tree4.jpg"
 ALT="apuntes"></A><A NAME="tex2html8"
  HREF="http://www.parrot.org/"><IMG
  WIDTH="70" ALIGN="BOTTOM" BORDER="0"
 SRC="parrotify_logo.png"
 ALT="modulos"></A>
<BR>
<B> Next:</B> <A NAME="tex2html108"
  HREF="node3.html">The Phases of a</A>
<B> Up:</B> <A NAME="tex2html106"
  HREF="theperlreview.html">Parsing Strings and Trees</A>
<B> Previous:</B> <A NAME="tex2html100"
  HREF="node1.html">Introduction</A>
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION00020000000000000000"></A>
<A NAME="section:parrot"></A>
<BR>
A Fast Introduction to Parrot
</H1>
The <A NAME="tex2html26"
  HREF="http://search.cpan.org/perldoc?Parrot">Parrot</A>
virtual machine [<A
 HREF="node16.html#parrot">4</A>] is register based. This means that, like a hardware
CPU, it has a number of fast-access units of storage called registers.
There are 4 types of register in <A NAME="tex2html27"
  HREF="http://search.cpan.org/perldoc?Parrot">Parrot</A>: integers (<code>I</code>), numbers (<code>N</code>),
strings (<code>S</code>) and PMCs (<code>P</code>). For each type there are several of these, named
<code>$N0</code>, <code>$N1</code>, ...Number registers map
to the machine native floating point type. 
You can download a recent version of parrot from
<A NAME="tex2html28"
  HREF="http://www.parrot.org/download">http://www.parrot.org/download</A>.

<P>
The code produced by <code>infix2pir.pl</code> is an example of <A NAME="tex2html29"
  HREF="http://search.cpan.org/perldoc?docs/user/pir/intro.pod">PIR</A>, which stands for 
<A NAME="tex2html30"
  HREF="http://search.cpan.org/perldoc?Parrot">Parrot</A>
Intermediate Representation and is also known as
Intermediate Code or IMC. <A NAME="tex2html31"
  HREF="http://search.cpan.org/perldoc?docs/user/pir/intro.pod">PIR</A>
files use the extension <code>.pir</code>.
<A NAME="tex2html32"
  HREF="http://search.cpan.org/perldoc?docs/user/pir/intro.pod">PIR</A>
is an intermediate language that can be compiled to
<A NAME="tex2html33"
  HREF="http://search.cpan.org/perldoc?Parrot">Parrot</A>
Byte code (PBC). It was conceived as a possible target language for compilers
targeting the <A NAME="tex2html34"
  HREF="http://search.cpan.org/perldoc?Parrot">Parrot</A>
Virtual Machine. <A NAME="tex2html35"
  HREF="http://search.cpan.org/perldoc?docs/user/pir/intro.pod">PIR</A>
is halfway between a High
Level Language (HLL) and <A NAME="tex2html36"
  HREF="http://search.cpan.org/perldoc?Parrot">Parrot</A>
Assembly (<A NAME="tex2html37"
  HREF="http://search.cpan.org/perldoc?docs/book/ch05_pasm.pod">PASM</A>).

<P>
<A NAME="tex2html38"
  HREF="http://search.cpan.org/perldoc?docs/user/pir/intro.pod">PIR</A>
has a relatively simple syntax. Every line is a comment, a
label, a statement, or a directive. Each statement or directive
stands on its own line. There is no end-of-line symbol (such as a
semicolon in C). These is a brief enumeration of the main characteristics of the language:

<P>

<UL>
<LI><B>Comments </B>
A comment begins with the <code>#</code> symbol, and continues until the end of
the line. Comments can stand alone on a line or follow a statement
or directive.

<P>
</LI>
<LI><B>Statements </B>

<P>
A statement is either an opcode or syntactic sugar for one or more
opcodes. An opcode is a native instruction for the virtual machine;
it consists of the name of the instruction followed by zero or more
arguments.

<P>
</LI>
<LI><B>Higher-level constructs </B>

<P>
<A NAME="tex2html39"
  HREF="http://search.cpan.org/perldoc?docs/user/pir/intro.pod">PIR</A>
also provides higher-level constructs, including symbolic operators:

<P>
<PRE>
  $I1 = 2 + 5
</PRE>

<P>
These special statement forms are just syntactic sugar for regular
opcodes. The <code>+</code> symbol corresponds to the <code>add</code> opcode, the 
<code>-</code> symbol
to the <code>sub</code> opcode, and so on. The previous example is equivalent
to:

<P>
<PRE>
  add $I1, 2, 5
</PRE>

<P>
</LI>
<LI><B>Directives </B>

<P>
Directives resemble opcodes, but they begin with a period (<code>.</code>). Some
directives specify actions that occur at compile time. Other
directives represent complex operations that require the generation
of multiple instructions. The <code>.local</code> directive, for example, declares
a named variable.

<P>
<PRE>
  .local string hello
</PRE>

<P>
</LI>
<LI><B>Literals </B>

<P>

<UL>
<LI><B>Numbers </B>

<P>
Integers and floating point numbers are numeric literals. They can be positive or negative.
Integer literals can also be binary, octal, or hexadecimal:

<P>
<PRE>
  $I0 = 42       # positive
  $I1 = -1       # negative
  $I1 = 0b01010  # binary
  $I2 = 0o72     # octal
  $I3 = 0xA5     # hexadecimal
</PRE>

<P>
Floating point number literals have a decimal point and can use scientific notation:

<P>
<PRE>
  $N0 = 3.14
  $N2 = -1.2e+4
</PRE>

<P>
</LI>
<LI><B>Strings </B>

<P>
String literals are enclosed in single or double-quotes.
Strings in double-quotes allow escape sequences using backslashes.
Strings in single-quotes only allow escapes for nested quotes

<P>
<PRE>
  $S0 = "This is a valid literal string"
  $S1 = 'This is also a valid literal string'
</PRE>
</LI>
</UL>

<P>
</LI>
<LI><B>Variables </B>

<P>
<A NAME="tex2html40"
  HREF="http://search.cpan.org/perldoc?docs/user/pir/intro.pod">PIR</A>
variables can store four different kinds of valuesâ€”integers,
numbers (floating point), strings, and objects. <A NAME="tex2html41"
  HREF="http://search.cpan.org/perldoc?Parrot">Parrot</A>'s objects
are called PMCs, for "PolyMorphic Container".

<P>
The simplest kind of variable is a register variable. The name of
a register variable always starts with a dollar sign (<code>$</code>), followed
by a single character which specifies the type of the variable -
integer (<code>I</code>), number (<code>N</code>), string (<code>S</code>), or PMC (<code>P</code>) 
- and ends with a unique number. You need not predeclare register variables:

<P>
<PRE>
  $S0 = "Who's a pretty boy, then?"
  say $S0
</PRE>

<P>
<A NAME="tex2html42"
  HREF="http://search.cpan.org/perldoc?docs/user/pir/intro.pod">PIR</A>
also has named variables; the <code>.local</code> directive declares them.
As with register variables, there are four valid types: <code>int</code>, <code>num</code>,
<code>string</code>, and <code>pmc</code>. You must declare named variables; otherwise they
behave exactly the same as register variables.

<P>
<PRE>
  .local string hello
  hello = "'Allo, 'allo, 'allo."
  say hello
</PRE>

<P>
</LI>
<LI><B>Constants </B>

<P>
The <code>.const</code> directive declares a named constant. Named constants are
similar to named variables, but the values set in the declaration
may never change. Like <code>.local</code>, <code>.const</code> takes a type and a name. It
also requires a literal argument to set the value of the constant.

<P>
<PRE>
  .const int    frog = 4                       # integer
  .const string name = "Superintendent Parrot" # string
  .const num    pi   = 3.14159                 # floating point
</PRE>

<P>
You may use a named constant anywhere you may use a literal, but
you must declare the named constant beforehand. 

<P>
</LI>
<LI><B>Keys </B>

<P>
A key is a special kind of constant used for accessing elements in
complex variables (such as an array). A key is either an integer
or a string; and it's always enclosed in square brackets 
(<code>[</code> and <code>]</code>).
You do not have to declare literal keys. This code example stores
the string <code>"foo"</code>
in <code>$P0</code> as element <code>5</code>, and then retrieves it.

<P>
<PRE>
  $P0[5] = "foo"
  $S1    = $P0[5]
</PRE>

<P>
<A NAME="tex2html43"
  HREF="http://search.cpan.org/perldoc?docs/user/pir/intro.pod">PIR</A>
supports multi-part keys. Use a semicolon to separate each part.

<P>
<PRE>
  $P0['my';'key'] = 472
  $I1             = $P0['my';'key']
</PRE>

<P>
</LI>
<LI><B>Control Structures </B>

<P>

<UL>
<LI><B>goto</B>

<P>
The <code>goto label</code> statement 
jumps to a named label. It can only
jump inside a subroutine, and only to a named label. 
Example:

<P>
<PRE>
    goto GREET
      # ... some skipped code ...
  GREET:
    say "'Allo, 'allo, 'allo."
</PRE>

<P>
</LI>
<LI><B>if </B>

<P>
Variations on the basic <code>goto</code> check whether a particular condition
is true or false before jumping:

<P>
<PRE>
  if $I0 &gt; 5 goto GREET
</PRE>
</LI>
</UL>

<P>
</LI>
<LI><B>Subroutines </B>

<P>
A <A NAME="tex2html44"
  HREF="http://search.cpan.org/perldoc?docs/user/pir/intro.pod">PIR</A>
subroutine starts with the <code>.sub</code> directive and ends with the
<code>.end</code> directive. 
Parameter declarations use the <code>.param</code> directive;
they resemble named variable declarations. 

<P>
This example declares a
subroutine named greeting, that takes a single string parameter
named <code>hello</code>:

<P>
<PRE>
  .sub 'greeting'
      .param string hello
      say hello
  .end
</PRE>
</LI>
</UL>

<P>

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A NAME="tex2html107"
  HREF="node3.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="/usr/share/latex2html/icons/next.png"></A> 
<A NAME="tex2html105"
  HREF="theperlreview.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/usr/share/latex2html/icons/up.png"></A> 
<A NAME="tex2html99"
  HREF="node1.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/usr/share/latex2html/icons/prev.png"></A>   
  <A NAME="tex2html1"
  HREF="http://nereida.deioc.ull.es/~pl/eyapsimple/source.tgz"><IMG
  WIDTH="23" ALIGN="BOTTOM" BORDER="0"
 SRC="gzip.png"
 ALT="SRC"></A>

  <A NAME="tex2html2"
  HREF="http://nereida.deioc.ull.es/~pl/eyapsimple/eyapsimple.dvi"><IMG
  WIDTH="23" ALIGN="BOTTOM" BORDER="0"
 SRC="xdviicon.gif"
 ALT="DVI"></A>
<A NAME="tex2html3"
  HREF="eyapsimple.ps"><IMG
  WIDTH="24" ALIGN="BOTTOM" BORDER="0"
 SRC="gv.jpeg"
 ALT="eyapsimple.ps"></A><A NAME="tex2html4"
  HREF="eyapsimple.pdf"><IMG
  WIDTH="24" ALIGN="BOTTOM" BORDER="0"
 SRC="pdf_logo.jpg"
 ALT="eyapsimple.pdf"></A><A NAME="tex2html5"
  HREF="http://search.cpan.org/dist/Parse-Eyapp/"><IMG
  WIDTH="60" ALIGN="BOTTOM" BORDER="0"
 SRC="lupa.gif"
 ALT="modulos"></A><A NAME="tex2html6"
  HREF="http://code.google.com/p/parse-eyapp/source/browse/#svn/trunk/examples/ParsingStringsAndTrees"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="google-code.png"
 ALT="google-code"></A><A NAME="tex2html7"
  HREF="../perlexamples/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="dragon_tree4.jpg"
 ALT="apuntes"></A><A NAME="tex2html8"
  HREF="http://www.parrot.org/"><IMG
  WIDTH="70" ALIGN="BOTTOM" BORDER="0"
 SRC="parrotify_logo.png"
 ALT="modulos"></A>
<BR>
<B> Next:</B> <A NAME="tex2html108"
  HREF="node3.html">The Phases of a</A>
<B> Up:</B> <A NAME="tex2html106"
  HREF="theperlreview.html">Parsing Strings and Trees</A>
<B> Previous:</B> <A NAME="tex2html100"
  HREF="node1.html">Introduction</A></DIV>
<!--End of Navigation Panel-->
<ADDRESS>
Procesadores de Lenguajes
2010-01-31
</ADDRESS>
</BODY>
</HTML>
